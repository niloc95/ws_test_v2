@import url('https://fonts.googleapis.com/css2?family=Lexend:wght@100;200;300;400;500;600;700;800;900&display=swap');

/* Modern Grey Color Palette */
:root {
  /* Primary Colors */
  --primary-grey: #424242;       /* Main grey */
  --primary-grey-dark: #212121;  /* Darker grey for hover */
  --accent-grey: #757575;        /* Medium grey for accents */
  --accent-grey-light: #BDBDBD;  /* Light grey for subtle elements */
  
  /* Supporting Colors */
  --text-primary: #212121;       /* Dark grey for text */
  --text-secondary: #757575;     /* Medium grey for secondary text */
  --background-light: #FFFFFF;   /* White background */
  --background-off: #F5F5F5;     /* Light grey background */
  --border-color: #E0E0E0;       /* Light grey for borders */

  /* Update existing theme variables */
  --primary-color: var(--primary-grey);
  --primary-color-dark: var(--primary-grey-dark);
  --secondary-color: var(--accent-grey);
  --secondary-color-dark: var(--accent-grey-light);
  --accent-color: var(--accent-grey);
  --background-color: var(--background-light);
  --text-color: var(--text-primary);
}

/* Backend Header Override */
#header {
  background-color: var(--primary-grey) !important;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1) !important;

  #header-logo {
      small {
          color: rgba(255,255,255,0.8) !important;
      }

      h6 {
          color: white !important;
      }
  }

  .nav-link {
      color: white !important;
  }

  #header-menu .nav-item {
      &:hover {
          background: var(--primary-grey-dark) !important;
      }

      &.active {
          background: var(--primary-grey-dark) !important;
      }
  }
}

/* Modal Overrides */
body .modal {
  .modal-header {
      background: var(--primary-grey) !important;
      
      .modal-title {
          color: white !important;
      }
      
      .close {
          color: rgba(255,255,255,0.8) !important;
      }
  }
}

/* Calendar Overrides */
#calendar-page {
  #calendar-toolbar {
      background: var(--text-primary) !important;
  }

  #calendar {
      .fc-event {
          border-color: var(--primary-grey) !important;
          background-color: white !important;
          color: black !important;
      }

      .fc-unavailability {
          background-color: var(--accent-grey) !important;
          opacity: 0.7;
      }
  }
}

/* Button Overrides */
.btn-primary {
  background-color: var(--primary-grey) !important;
  border-color: var(--primary-grey) !important;

  &:hover {
      background-color: var(--primary-grey-dark) !important;
      border-color: var(--primary-grey-dark) !important;
  }
}

.btn-secondary {
  background-color: var(--accent-grey) !important;
  border-color: var(--accent-grey) !important;

  &:hover {
      background-color: var(--accent-grey-light) !important;
      border-color: var(--accent-grey-light) !important;
  }
}

/* Form Controls */
.form-control:focus {
  border-color: var(--primary-grey) !important;
  box-shadow: 0 0 0 0.2rem rgba(66, 66, 66, 0.25) !important;
}

/* Filter Records */
.backend-page .filter-records .results {
  .entry {
      &:hover:not(.selected) {
          background-color: var(--background-off) !important;
      }

      &.selected {
          background-color: var(--background-off) !important;
          border-right: 5px solid var(--primary-grey) !important;
      }
  }
}

/* Navigation Pills */
.nav-pills {
  .nav-link.active {
      background-color: var(--primary-grey) !important;
  }
}

/* Services Page */
#services-page {
  .nav {
      background-color: var(--background-off) !important;
  }
}

/* Users Page */
#users-page {
  .nav {
      background-color: var(--background-off) !important;
  }

  #secretary-notifications.active,
  #provider-notifications.active,
  #admin-notifications.active {
      background: var(--primary-grey) !important;
      opacity: 0.8;
  }
}

/* Settings Page */
#settings-page {
  .nav {
      background-color: var(--background-off) !important;
  }

  #about .current-version {
      background: var(--background-off) !important;
      color: var(--text-secondary) !important;
  }
}

/* Notification styles */
#notification .alert {
  background-color: var(--accent-grey) !important;
  color: white !important;
}

/* Footer Override */
#footer {
  background-color: var(--background-off) !important;
  border-top: 1px solid var(--border-color) !important;
  color: var(--text-secondary) !important;
}

/* Table Overrides */
.table {
  thead {
      background-color: var(--background-off) !important;
  }
}

/* Loading Animation */
#loading {
  background: rgba(255, 255, 255, 0.9) !important;
}

/* Flatpickr Theme Overrides */
.flatpickr-calendar {
  background: var(--background-light);
  box-shadow: 0 3px 13px rgba(0,0,0,0.08);
  border-radius: 8px;
}

.flatpickr-day.selected,
.flatpickr-day.startRange,
.flatpickr-day.endRange,
.flatpickr-day.selected.inRange,
.flatpickr-day.startRange.inRange,
.flatpickr-day.endRange.inRange,
.flatpickr-day.selected:focus,
.flatpickr-day.startRange:focus,
.flatpickr-day.endRange:focus,
.flatpickr-day.selected:hover,
.flatpickr-day.startRange:hover,
.flatpickr-day.endRange:hover,
.flatpickr-day.selected.prevMonthDay,
.flatpickr-day.startRange.prevMonthDay,
.flatpickr-day.endRange.prevMonthDay,
.flatpickr-day.selected.nextMonthDay,
.flatpickr-day.startRange.nextMonthDay,
.flatpickr-day.endRange.nextMonthDay {
  background: var(--primary-grey);
  border-color: var(--primary-grey);
  color: #fff;
}

.flatpickr-day.selected.startRange + .endRange:not(:nth-child(7n+1)),
.flatpickr-day.startRange.startRange + .endRange:not(:nth-child(7n+1)),
.flatpickr-day.endRange.startRange + .endRange:not(:nth-child(7n+1)) {
  box-shadow: -10px 0 0 var(--primary-grey);
}

.flatpickr-day.week.selected {
  box-shadow: -5px 0 0 var(--primary-grey), 5px 0 0 var(--primary-grey);
}

.flatpickr-months .flatpickr-prev-month:hover svg,
.flatpickr-months .flatpickr-next-month:hover svg {
  fill: var(--primary-grey);
}

.flatpickr-time input:hover,
.flatpickr-time .flatpickr-am-pm:hover,
.flatpickr-time input:focus,
.flatpickr-time .flatpickr-am-pm:focus {
  background: var(--background-off);
}

.flatpickr-day.today {
  border-color: var(--primary-grey);
}

.flatpickr-day.today:hover,
.flatpickr-day.today:focus {
  border-color: var(--primary-grey);
  background: var(--primary-grey);
  color: white;
}

.flatpickr-day:hover,
.flatpickr-day.prevMonthDay:hover,
.flatpickr-day.nextMonthDay:hover,
.flatpickr-day:focus,
.flatpickr-day.prevMonthDay:focus,
.flatpickr-day.nextMonthDay:focus {
  background: var(--background-off);
  border-color: var(--background-off);
}

.flatpickr-current-month .flatpickr-monthDropdown-months:hover {
  background: var(--background-off);
}

.flatpickr-time .numInputWrapper span.arrowUp:after {
  border-bottom-color: var(--text-secondary);
}

.flatpickr-time .numInputWrapper span.arrowDown:after {
  border-top-color: var(--text-secondary);
}